(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(45)},31:function(e,t,a){},34:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),l=a.n(r),s=(a(31),a(15)),o=a.n(s),i=a(23),m=a(3),d=a(4),u=a(6),p=a(5),h=a(7),E=(a(34),a(2)),v=a(11),b=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},c.a.createElement("div",{className:"container"},c.a.createElement(E.b,{className:"navbar-brand",to:"/react-shopweb/"},"Start Bootstrap"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item active"},c.a.createElement(E.b,{className:"nav-link",to:"/react-shopweb/"},"Home",c.a.createElement("span",{className:"sr-only"},"(current)"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(E.b,{className:"nav-link",to:"/react-shopweb/about/"},"About")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(E.b,{className:"nav-link",to:"/react-shopweb/shopcar/"},"Shopcar")))))))}}]),t}(n.Component),N=[],g=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"renderprops",value:function(e,t){return c.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4",key:t},c.a.createElement("div",{className:"card h-100"},c.a.createElement(E.b,{to:{pathname:"/react-shopweb/product/".concat(e.id),state:{product:e}}},c.a.createElement("img",{className:"card-img-top",src:e.picture,alt:""})),c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},c.a.createElement(E.b,{to:{pathname:"/react-shopweb/product/".concat(e.id),state:{product:e}}},e.name)),c.a.createElement("h5",null,"$",e.price),c.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur!")),c.a.createElement("div",{className:"card-footer"},c.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606"))))}},{key:"render",value:function(){var e=this;return 0===(N=this.props.product).length?c.a.createElement("div",{className:"App"}):c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide my-4 ","data-ride":"carousel"},c.a.createElement("ol",{className:"carousel-indicators"},c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"3"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"4"})),c.a.createElement("div",{className:"carousel-inner",role:"listbox"},c.a.createElement("div",{className:"carousel-item active"},c.a.createElement("img",{className:"d-block img-fluid",src:N[0].picture,alt:"First slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[1].picture,alt:"Second slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[2].picture,alt:"Third slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[3].picture,alt:"Fourth slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[4].picture,alt:"Fiveth slide"}))),c.a.createElement(E.b,{className:"carousel-control-prev",to:"#carouselExampleIndicators",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement(E.b,{className:"carousel-control-next",to:"#carouselExampleIndicators",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))),c.a.createElement("div",{className:"row"},this.props.product.map(function(t,a){return e.renderprops(t,a)}))))))}}]),t}(n.Component),f=function(e){function t(){return Object(m.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},"About")}}]),t}(n.Component),y=[],w=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).find=function(e){return e.id===a.state.produtc.id},a.addShopcar=function(){var e,t;k("itemList")&&void 0!==(y=k("itemList")).find(a.find)?y.forEach(function(e){if(e.id===a.state.produtc.id){var t=parseInt(e.num);t+=1,e.num=t}}):y.push(a.state.produtc),a.setState({list:y},function(){}),a.props.onAdd(y),e="itemList",t=y,window.localStorage.setItem(e,JSON.stringify(t))},a.state={produtc:e.location.state.product,list:[],shopcar:e.shopcar},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.location.state.product;return e?c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h1",{className:"my-4"},"Page Heading",c.a.createElement("small",null,"Secondary Text")),c.a.createElement("div",{className:"card mb-4"},c.a.createElement("img",{className:"card-img-top img-fluid",src:e.picture,alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h3",{className:"card-title"},e.name),c.a.createElement("h4",null,"$",e.price),c.a.createElement("p",{className:"card-text"},"\u5546\u54c1\u4ecb\u7d39\uff1a",c.a.createElement("br",null),e.Introduction),c.a.createElement("span",{className:"text-warning"},"\u2605 \u2605 \u2605 \u2605 \u2606"),"4.0 stars")),c.a.createElement("ul",{className:"pagination justify-content-center mb-4"},c.a.createElement("li",{className:"page-item"},c.a.createElement(E.b,{className:"page-link",to:"#"},"\u2190 Older")),c.a.createElement("li",{className:"page-item disabled"},c.a.createElement(E.b,{className:"page-link",to:"#"},"Newer \u2192")))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Search"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for..."}),c.a.createElement("span",{className:"input-group-btn"},c.a.createElement("button",{className:"btn btn-secondary",type:"button"},"Go!"))))),c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Categories"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"col-lg-12",onClick:this.addShopcar}," \u52a0\u5165\u8cfc\u7269\u8eca  ")))),c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Side Widget"),c.a.createElement("div",{className:"card-body"},"You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!")))))):c.a.createElement(v.a,{to:"/"})}}]),t}(n.Component);function k(e){var t=window.localStorage.getItem(e);return JSON.parse(t)}var O=[],S=[],j=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.props.onChange(),a.setState({num:S})},I("itemList")&&(O=I("itemList")),a.state={product:O,num:[]},S=[],a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"ChangeNum",value:function(e){var t=O.findIndex(function(t){return t.id===e}),a=document.getElementById(e);a.value<=0?(alert("\u8acb\u8f38\u5165\u5927\u65bc0\u7684\u6578\u91cf"),S[t]=O[t].num,this.setState({num:S}),a.focus()):(O[t].num=a.value,x("itemList",O),this.props.onChange())}},{key:"dltbtn",value:function(e){window.confirm("Delete the item?")&&(O.splice(e,1),S.splice(e,1),this.setState({product:O}),this.setState({num:S}),x("itemList",O),this.props.onChange())}},{key:"change",value:function(e,t){S[t]=e.target.value,this.setState({num:S})}},{key:"shopcardata",value:function(e,t){var a=this;return console.log("state(product)\uff1a"+this.state.product[t].num),console.log("state(num)\uff1a"+this.state.num),console.log("num.length v.s. itemList.length\uff1a"+this.state.num.length+" / "+O.length),this.state.num.length<O.length&&(console.log("push"),console.log("array(num)\uff1a"+S),S.push(this.state.product[t].num)),c.a.createElement("tr",{key:t},c.a.createElement("td",{width:"20%"},c.a.createElement("img",{style:{width:"50%"},src:e.picture,alt:""})),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement("input",{id:e.id,value:S[t],onBlur:function(){a.ChangeNum(e.id)},onChange:function(e){a.change(e,t)}})),c.a.createElement("td",null,"$",e.price),c.a.createElement("td",null,c.a.createElement("button",{ref:t,onClick:function(){a.dltbtn(t)}},"\u522a\u9664")))}},{key:"render",value:function(){var e=this;return I("itemList")&&(O=I("itemList")),c.a.createElement("div",{className:"App"},c.a.createElement("div",{id:"wrapper"},c.a.createElement("div",{id:"content-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"card mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("i",{className:"fas fa-table"}),"\u8cfc\u7269\u8eca\u660e\u7d30"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:"0"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u7522\u54c1"),c.a.createElement("th",null,"\u7522\u54c1\u540d\u7a31"),c.a.createElement("th",null,"\u6578\u91cf"),c.a.createElement("th",null,"\u50f9\u9322"),c.a.createElement("th",null,"\u64cd\u4f5c"))),c.a.createElement("tbody",null,O.map(function(t,a){return e.shopcardata(t,a)})))),c.a.createElement("span",{id:"total"},"\u7e3d\u5171\uff1a$",this.props.total),c.a.createElement("button",null,"\u7d50\u5e33")),c.a.createElement("div",{className:"card-footer small text-muted"},"Updated yesterday at 11:59 PM"))))))}}]),t}(n.Component);function x(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function I(e){var t=window.localStorage.getItem(e);return JSON.parse(t)}var C="http://localhost:3000/api/drinks.json";var L={get:function(){return console.log(C),fetch(C).then(function(e){return e.json()})}},A=[],J=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).componentDidMount=function(){e.checkSum()},e.checkSum=function(){R("itemList")&&(A=R("itemList"));var t=0;A.forEach(function(e){t+=e.price*e.num}),e.setState({total:t},function(){})},e.setShopcar=function(t){e.setState({shopcar:t},function(){})},e.state={product:[],shopcar:[],total:0},e.getServer(),R("itemList")&&(A=R("itemList")),e}return Object(h.a)(t,e),Object(d.a)(t,[{key:"getServer",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get();case 2:t=e.sent,this.setState({product:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderRoute",value:function(e,t){return c.a.createElement(t,Object.assign({},e,{product:this.state.product,shopcar:this.state.shopcar,onAdd:this.setShopcar,total:this.state.total,onChange:this.checkSum}))}},{key:"render",value:function(){var e=this;return c.a.createElement(E.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(b,null),c.a.createElement("div",{className:"cbody"},c.a.createElement(v.b,{path:"/react-shopweb/",exact:!0,render:function(t){return e.renderRoute(t,g)}}),c.a.createElement(v.b,{path:"/react-shopweb/about",component:f}),c.a.createElement(v.b,{path:"/react-shopweb/product",render:function(t){return e.renderRoute(t,w)}}),c.a.createElement(v.b,{path:"/react-shopweb/shopcar",render:function(t){return e.renderRoute(t,j)}}))))}}]),t}(n.Component);function R(e){var t=window.localStorage.getItem(e);return JSON.parse(t)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43),a(20),a(21),a(44);l.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.f03cd8d7.chunk.js.map