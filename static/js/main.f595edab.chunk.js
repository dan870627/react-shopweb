(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(45)},31:function(e,a,t){},34:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(22),l=t.n(r),s=(t(31),t(15)),o=t.n(s),i=t(23),m=t(3),d=t(4),u=t(6),p=t(5),E=t(7),h=(t(34),t(2)),v=t(11),b=function(e){function a(){return Object(m.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},c.a.createElement("div",{className:"container"},c.a.createElement(h.b,{className:"navbar-brand",to:"/"},"Start Bootstrap"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item active"},c.a.createElement(h.b,{className:"nav-link",to:"/react-shopweb/"},"Home",c.a.createElement("span",{className:"sr-only"},"(current)"))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(h.b,{className:"nav-link",to:"/react-shopweb/about/"},"About")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(h.b,{className:"nav-link",to:"/react-shopweb/shopcar/"},"Shopcar")))))))}}]),a}(n.Component),N=[],g=function(e){function a(){return Object(m.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(d.a)(a,[{key:"renderprops",value:function(e,a){return c.a.createElement("div",{className:"col-lg-4 col-md-6 mb-4",key:a},c.a.createElement("div",{className:"card h-100"},c.a.createElement(h.b,{to:{pathname:"/react-shopweb/product/".concat(e.id),state:{product:e}}},c.a.createElement("img",{className:"card-img-top",src:e.picture,alt:""})),c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title"},c.a.createElement(h.b,{to:{pathname:"/react-shopweb/product/".concat(e.id),state:{product:e}}},e.name)),c.a.createElement("h5",null,"$",e.price),c.a.createElement("p",{className:"card-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet numquam aspernatur!")),c.a.createElement("div",{className:"card-footer"},c.a.createElement("small",{className:"text-muted"},"\u2605 \u2605 \u2605 \u2605 \u2606"))))}},{key:"render",value:function(){var e=this;return 0===(N=this.props.product).length?c.a.createElement("div",{className:"App"}):c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide my-4 ","data-ride":"carousel"},c.a.createElement("ol",{className:"carousel-indicators"},c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"3"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"4"})),c.a.createElement("div",{className:"carousel-inner",role:"listbox"},c.a.createElement("div",{className:"carousel-item active"},c.a.createElement("img",{className:"d-block img-fluid",src:N[0].picture,alt:"First slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[1].picture,alt:"Second slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[2].picture,alt:"Third slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[3].picture,alt:"Fourth slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block img-fluid",src:N[4].picture,alt:"Fiveth slide"}))),c.a.createElement(h.b,{className:"carousel-control-prev",to:"#carouselExampleIndicators",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement(h.b,{className:"carousel-control-next",to:"#carouselExampleIndicators",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))),c.a.createElement("div",{className:"row"},this.props.product.map(function(a,t){return e.renderprops(a,t)}))))))}}]),a}(n.Component),f=function(e){function a(){return Object(m.a)(this,a),Object(u.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(E.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},"About")}}]),a}(n.Component),y=[],w=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).find=function(e){return e.id===t.state.produtc.id},t.addShopcar=function(){var e,a;k("itemList")?(y=k("itemList"),console.log(y),void 0!==y.find(t.find)?y.forEach(function(e){if(e.id===t.state.produtc.id){var a=parseInt(e.num);a+=1,e.num=a}}):y.push(t.state.produtc)):y.push(t.state.produtc),t.setState({list:y},function(){console.log(t.state)}),t.props.onAdd(y),e="itemList",a=y,window.localStorage.setItem(e,JSON.stringify(a))},t.state={produtc:e.location.state.product,list:[],shopcar:e.shopcar},console.log(t.state),t}return Object(E.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.location.state.product;return e?c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h1",{className:"my-4"},"Page Heading",c.a.createElement("small",null,"Secondary Text")),c.a.createElement("div",{className:"card mb-4"},c.a.createElement("img",{className:"card-img-top img-fluid",src:e.picture,alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h3",{className:"card-title"},e.name),c.a.createElement("h4",null,"$",e.price),c.a.createElement("p",{className:"card-text"},"\u5546\u54c1\u4ecb\u7d39\uff1a",c.a.createElement("br",null),e.Introduction),c.a.createElement("span",{className:"text-warning"},"\u2605 \u2605 \u2605 \u2605 \u2606"),"4.0 stars")),c.a.createElement("ul",{className:"pagination justify-content-center mb-4"},c.a.createElement("li",{className:"page-item"},c.a.createElement(h.b,{className:"page-link",to:"#"},"\u2190 Older")),c.a.createElement("li",{className:"page-item disabled"},c.a.createElement(h.b,{className:"page-link",to:"#"},"Newer \u2192")))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Search"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for..."}),c.a.createElement("span",{className:"input-group-btn"},c.a.createElement("button",{className:"btn btn-secondary",type:"button"},"Go!"))))),c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Categories"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"col-lg-12",onClick:this.addShopcar}," \u52a0\u5165\u8cfc\u7269\u8eca  ")))),c.a.createElement("div",{className:"card my-4"},c.a.createElement("h5",{className:"card-header"},"Side Widget"),c.a.createElement("div",{className:"card-body"},"You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!")))))):c.a.createElement(v.a,{to:"/"})}}]),a}(n.Component);function k(e){var a=window.localStorage.getItem(e);return JSON.parse(a)}var O=[],j=[],S=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(u.a)(this,Object(p.a)(a).call(this,e))).componentDidMount=function(){t.props.onChange(),t.setState({num:j})},I("itemList")&&(O=I("itemList")),t.state={product:O,num:[]},t}return Object(E.a)(a,e),Object(d.a)(a,[{key:"ChangeNum",value:function(e){var a=O.findIndex(function(a){return a.id===e}),t=document.getElementById(e);t.value<=0?(alert("\u8acb\u8f38\u5165\u5927\u65bc0\u7684\u6578\u91cf"),document.getElementById(e).value=O[a].num,t.focus()):(O[a].num=t.value,x("itemList",O),this.props.onChange())}},{key:"dltbtn",value:function(e){window.confirm("Delete the item?")&&(O.splice(e,1),x("itemList",O),console.log(this.refs[e].parentElement.parentElement.children[2].children[0].value),this.props.onChange())}},{key:"change",value:function(e,a){j[a]=e.target.value,this.setState({num:j})}},{key:"shopcardata",value:function(e,a){var t=this;return console.log("state(product)\uff1a"+this.state.product[a].num),console.log("state(num)\uff1a"+this.state.num),this.state.num.length<4&&(j.push(this.state.product[a].num),console.log("push")),console.log("array\uff1a"+j),c.a.createElement("tr",{key:a},c.a.createElement("td",{width:"20%"},c.a.createElement("img",{style:{width:"50%"},src:e.picture,alt:""})),c.a.createElement("td",null,e.name),c.a.createElement("td",null,c.a.createElement("input",{id:e.id,value:j[a],onBlur:function(){t.ChangeNum(e.id)},onChange:function(e){t.change(e,a)}})),c.a.createElement("td",null,"$",e.price),c.a.createElement("td",null,c.a.createElement("button",{ref:a,onClick:function(){t.dltbtn(a)}},"\u522a\u9664")))}},{key:"render",value:function(){var e=this;return I("itemList")&&(O=I("itemList")),c.a.createElement("div",{className:"App"},c.a.createElement("div",{id:"wrapper"},c.a.createElement("div",{id:"content-wrapper"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"card mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("i",{className:"fas fa-table"}),"\u8cfc\u7269\u8eca\u660e\u7d30"),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-bordered",id:"dataTable",width:"100%",cellSpacing:"0"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u7522\u54c1"),c.a.createElement("th",null,"\u7522\u54c1\u540d\u7a31"),c.a.createElement("th",null,"\u6578\u91cf"),c.a.createElement("th",null,"\u50f9\u9322"),c.a.createElement("th",null,"\u64cd\u4f5c"))),c.a.createElement("tbody",null,O.map(function(a,t){return e.shopcardata(a,t)})))),c.a.createElement("span",{id:"total"},"\u7e3d\u5171\uff1a$",this.props.total),c.a.createElement("button",null,"\u7d50\u5e33")),c.a.createElement("div",{className:"card-footer small text-muted"},"Updated yesterday at 11:59 PM"))))))}}]),a}(n.Component);function x(e,a){window.localStorage.setItem(e,JSON.stringify(a))}function I(e){var a=window.localStorage.getItem(e);return JSON.parse(a)}var C="https://dan870627.github.io/react-shopweb/api/drinks.json";var L={get:function(){return console.log(C),fetch(C).then(function(e){return console.log(e),e.json()})}},A=[],B=function(e){function a(){var e;return Object(m.a)(this,a),(e=Object(u.a)(this,Object(p.a)(a).call(this))).componentDidMount=function(){e.checkSum()},e.checkSum=function(){J("itemList")&&(A=J("itemList"));var a=0;A.forEach(function(e){a+=e.price*e.num}),e.setState({total:a},function(){return console.log(e.state)}),console.log(e.state.total)},e.setShopcar=function(a){e.setState({shopcar:a},function(){console.log(e.state)})},e.state={product:[],shopcar:[],total:0},e.getServer(),J("itemList")&&(A=J("itemList"),console.log(A)),e}return Object(E.a)(a,e),Object(d.a)(a,[{key:"getServer",value:function(){var e=Object(i.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get();case 2:a=e.sent,this.setState({product:a});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderRoute",value:function(e,a){return c.a.createElement(a,Object.assign({},e,{product:this.state.product,shopcar:this.state.shopcar,onAdd:this.setShopcar,total:this.state.total,onChange:this.checkSum}))}},{key:"render",value:function(){var e=this;return c.a.createElement(h.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(b,null),c.a.createElement("div",{className:"cbody"},c.a.createElement(v.b,{path:"/react-shopweb/",exact:!0,render:function(a){return e.renderRoute(a,g)}}),c.a.createElement(v.b,{path:"/react-shopweb/about",component:f}),c.a.createElement(v.b,{path:"/react-shopweb/product",render:function(a){return e.renderRoute(a,w)}}),c.a.createElement(v.b,{path:"/react-shopweb/shopcar",render:function(a){return e.renderRoute(a,S)}}))))}}]),a}(n.Component);function J(e){var a=window.localStorage.getItem(e);return JSON.parse(a)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(43),t(20),t(21),t(44);l.a.render(c.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.f595edab.chunk.js.map